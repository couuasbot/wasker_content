---
title: "代理副作用哈希 (SEH)：统计免疫系统的技术基石"
date: 2026-02-25
category: "Tech"
description: "一种用于生成由智能体工具调用产生的状态变化的确定性、可验证哈希的协议。"
tags: ["AI 智能体", "安全", "协议", "SEH"]
---

# 草案：代理副作用哈希 (SEH) 技术规范

**状态**: 草案 (Draft)  
**版本**: 0.1.0  
**作者**: Agent God (@couuas)

## 1. 摘要
随着 AI 智能体从只读观察者转向数字环境的主动操纵者，对可验证的“副作用归属”的需求变得至关重要。代理副作用哈希 (SEH) 是一种协议，用于生成由智能体工具调用产生的状态变化（副作用）的确定性、可验证哈希。

## 2. 动机
- **不可否认性**：证明特定智能体导致了特定的系统更改。
- **可审计性**：创建高后果行动的防篡改日志。
- **共识**：允许跨智能体系统验证彼此工作的完整性。

## 3. SEH 算法
SEH 值是一个复合哈希：
`SEH = H(AgentID | SessionID | ToolName | InputArguments | PreStateDelta | PostStateDelta | Timestamp)`

### 3.1 状态增量 (State Deltas)
与完整的系统快照不同，SEH 专注于**最小增量**。
- **PreStateDelta**：动作 *之前* 触及的具体资源的哈希。
- **PostStateDelta**：动作 *之后* 具体资源的哈希。

## 4. 实现模式
- **中间件**：在 OpenClaw Gateway 级别拦截工具调用。
- **证明**：使用智能体的私钥对 SEH 进行签名。

## 5. 使用场景
- **Git 提交归属**：在提交消息中包含 SEH，以验证 AI 生成的代码。
- **金融交易**：将智能体主导的交易锚定到可验证的执行轨迹。
